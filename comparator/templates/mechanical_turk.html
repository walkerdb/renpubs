<!-- HIT template: TranscriptionFromAnImage-v3.0 --><!-- Bootstrap CSS v3.0.3 --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries -->
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"
      integrity="sha384-IS73LIqjtYesmURkDE9MXKbXqYA8rvKEp/ghicjem7Vc3mGRdQRptJSz60tvrB6+"
      rel="stylesheet"/><!-- The following snippet enables the 'responsive' behavior on smaller screens -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.js"></script>

<meta content="width=device-width,initial-scale=1" name="viewport"/>

<section class="container" id="TranscriptionFromAnImage"><!-- Instructions -->
  <div class="row">
    <div class="col-xs-12 col-md-12">
      <div class="panel panel-primary">
        <!-- WARNING: the ids "collapseTrigger" and "instructionBody" are being used to enable expand/collapse feature -->
        <a class="panel-heading" href="javascript:void(0);" id="collapseTrigger">
          <strong>Transcription cleanup instructions</strong> <span class="collapse-text">(Click to expand)</span>
        </a>

        <div class="panel-body" id="instructionBody">
          <p>Transcription cleanup</p>

          <ul>
            <li>Fix typos in the provided transcription</li>
            <li>Preserve all special letters if they're present, eg è or é instead of just e.</li>
            <li>The &laquo; and &raquo; characters should be replaced by the english double-quote character, &quot;&nbsp;</li>
            <li>You do not need to preserve table formatting, so long as you make each row one single line of text in the transcription</li>
            <li>Please do not transcribe the page numbers at the bottom of the image</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- End Instructions --><!-- Image Transcription Layout -->

  <div class="row" id="workContent">
    <div class="col-xs-6 fields">
      <div class="form-group">
        <label for="text">Transcription</label>
        <textarea name="text" id="text" cols="100">${text}</textarea>
      </div>
    </div>
    <div class="col-xs-6">
      <img alt="image_url" class="img-responsive center-block" style="height: 900px; width: auto" src="${image_url}"/>
    </div>
  </div>

  <style type="text/css">
    .CodeMirror {
      border: 1px solid #eee;
      height: auto;
      font-size: .8em;
      margin-left: 20px;
      margin-top: 20px;
    }
  </style>

  <script>
      var options = {
          lineWiseCopyCut: true,
          autoFocus: true,
          lineNumbers: true,
          lineWrapping: true
      };

      var textArea = CodeMirror.fromTextArea(document.getElementById("text"), options)
  </script>

  <!-- End Image Transcription Layout --><!-- Open internal style sheet -->
  <style type="text/css">#collapseTrigger {
    color: #fff;
    display: block;
    text-decoration: none;
  }

  #submitButton {
    white-space: normal;
  }

  .image {
    margin-bottom: 15px;
  }

  .group-label {
    display: block;
  }

  .radio-inline > label {
    font-weight: normal;
  }
  </style>
  <!-- Close internal style sheet -->
  <!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries -->
  <script src="https://code.jquery.com/jquery-3.1.0.min.js"
          integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"
          integrity="sha384-s1ITto93iSMDxlp/79qhWHi+LsIi9Gx6yL+cOKDuymvihkfol83TYbLbOw+W/wv4"
          crossorigin="anonymous"></script>
  <script>
      $(document).ready(function () {
          // Instructions expand/collapse
          var content = $('#instructionBody');
          var trigger = $('#collapseTrigger');
          content.hide();
          $('.collapse-text').text('(Click to expand)');
          trigger.click(function () {
              content.toggle();
              var isVisible = content.is(':visible');
              if (isVisible) {
                  $('.collapse-text').text('(Click to collapse)');
              } else {
                  $('.collapse-text').text('(Click to expand)');
              }
          });
          // end expand/collapse
      });
  </script>
</section>
